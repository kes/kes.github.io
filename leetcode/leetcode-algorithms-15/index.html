<!DOCTYPE html>
<html lang="en-us"
      dir="ltr">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <link rel="stylesheet" href="/common.css" type="text/css" media="screen, projection">
  <link rel="stylesheet" href="/style.css" type="text/css" media="screen, projection">
  <title>Karl Stump's Blog</title>


</head>
<body>
  <div class="site">
  <header>
    <div class="title">
  <a href="/">Karl Stump </a>
  <a class="extra" href="/">home</a>
    <a class="extra" href="/posts">posts</a>
  <a class="extra" href="/leetcode">leetcodes</a>
</header>

  </header>
  <main>
    
<div id="post">Leetcode Algorithms 15<p class="meta"> Nov 29, 2024</p>
  <p>Okay, this is the fifteenth question from the &ldquo;Top Interview 150.&rdquo;</p>
<p>If you&rsquo;re new here:</p>
<p>Working on <a href="https:leetcode.com">leetcode.com</a> there&rsquo;s a &ldquo;Top Interview 150&rdquo; list of problems. I&rsquo;m not sure where the list
comes from, but no matter. Doing a quick count it looks like there are around 20 hard problems,about
40 easy, and about 90 medium.</p>
<p>So that&rsquo;s the goal. Do all 150 problems.</p>
<h2 id="candy">Candy</h2>
<p>Level: Hard.</p>
<p>Read the <a href="https://leetcode.com/problems/candy/description/?envType=study-plan-v2&amp;envId=top-interview-150">description</a> here.</p>
<p>Example: In the table the rating of each child is given, and then the initial candy. Next calculate
the candy for each child moving left to right. Finally, calculate the candy for each child, right to
left. In whichever direction, you are always comparing with the child &lsquo;behind.&rsquo; So when moving
left-to-right, always compare with the child to the left (and the left-most child has no child to
compare against). The same is true for moving right-to-left, where the comparison is made to the
child on the right, and the rightmost child has no child to the right to compare against.</p>
<table>
<thead>
<tr>
<th>Rating</th>
<th>1</th>
<th>0</th>
<th>2</th>
</tr>
</thead>
<tbody>
<tr>
<td>Initial Candy</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Left to Right</td>
<td>1</td>
<td>1</td>
<td>2</td>
</tr>
<tr>
<td>Right to Left</td>
<td>2</td>
<td>1</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>Total = 5.</p>
<p>Let&rsquo;s do another:</p>
<table>
<thead>
<tr>
<th>Rating</th>
<th>1</th>
<th>2</th>
<th>87</th>
<th>87</th>
<th>87</th>
<th>2</th>
<th>1</th>
</tr>
</thead>
<tbody>
<tr>
<td>Initial Candy</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Left to Right</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>Right to Left</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>1</td>
<td>3</td>
<td>2</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>Total = 13.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-C" data-lang="C"><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;vector&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e">#include</span> <span style="color:#75715e">&lt;gtest/gtest.h&gt;</span><span style="color:#75715e">
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>
</span></span><span style="display:flex;"><span>class Solution {
</span></span><span style="display:flex;"><span>public:
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">candy</span>(std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;&amp;</span> ratings) {
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">int</span> totalCandy <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// every child starts with one candy
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">candyPerChild</span>(ratings.<span style="color:#a6e22e">size</span>(), <span style="color:#ae81ff">1</span>);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// from left to right, check the left; notice that the left-most
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// child has nothing to check
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>; i <span style="color:#f92672">&lt;</span> ratings.<span style="color:#a6e22e">size</span>(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (ratings[i] <span style="color:#f92672">&gt;</span> ratings[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]) {
</span></span><span style="display:flex;"><span>        <span style="color:#75715e">// rating is higher, so
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>        <span style="color:#66d9ef">if</span> (candyPerChild[i] <span style="color:#f92672">&lt;=</span> candyPerChild[i <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>]){
</span></span><span style="display:flex;"><span>          candyPerChild[i] <span style="color:#f92672">=</span> candyPerChild[i<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#75715e">// from right to left, check the right; notice that the right-most
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#75715e">// child has nothing to check
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> ratings.<span style="color:#a6e22e">size</span>() <span style="color:#f92672">-</span> <span style="color:#ae81ff">2</span>; i <span style="color:#f92672">&gt;=</span> <span style="color:#ae81ff">0</span>; i<span style="color:#f92672">--</span>) {
</span></span><span style="display:flex;"><span>      <span style="color:#66d9ef">if</span> (ratings[i] <span style="color:#f92672">&gt;</span> ratings[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]){
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> (candyPerChild[i] <span style="color:#f92672">&lt;=</span> candyPerChild[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>]){
</span></span><span style="display:flex;"><span>          candyPerChild[i] <span style="color:#f92672">=</span> candyPerChild[i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>] <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>;
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>; i <span style="color:#f92672">&lt;</span> candyPerChild.<span style="color:#a6e22e">size</span>(); i<span style="color:#f92672">++</span>) {
</span></span><span style="display:flex;"><span>      totalCandy <span style="color:#f92672">+=</span> candyPerChild[i];
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> totalCandy;
</span></span><span style="display:flex;"><span>  }
</span></span><span style="display:flex;"><span>};
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">TEST</span>(Candy, test_1) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Arrange
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> ratings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">2</span>};
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> returns;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> expectedReturns <span style="color:#f92672">=</span> <span style="color:#ae81ff">5</span> ;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Act
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  returns <span style="color:#f92672">=</span> Solution<span style="color:#f92672">::</span><span style="color:#a6e22e">candy</span>(ratings);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Assert
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">EXPECT_TRUE</span>(expectedReturns <span style="color:#f92672">==</span> returns);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">TEST</span>(Candy, test_2) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Arrange
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> ratings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>};
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> returns;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> expectedReturns <span style="color:#f92672">=</span> <span style="color:#ae81ff">4</span> ;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Act
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  returns <span style="color:#f92672">=</span> Solution<span style="color:#f92672">::</span><span style="color:#a6e22e">candy</span>(ratings);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Assert
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">EXPECT_TRUE</span>(expectedReturns <span style="color:#f92672">==</span> returns);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">TEST</span>(Candy, test_3) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Arrange
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> ratings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">3</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>};
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> returns;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> expectedReturns <span style="color:#f92672">=</span> <span style="color:#ae81ff">7</span> ;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Act
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  returns <span style="color:#f92672">=</span> Solution<span style="color:#f92672">::</span><span style="color:#a6e22e">candy</span>(ratings);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Assert
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">EXPECT_TRUE</span>(expectedReturns <span style="color:#f92672">==</span> returns);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">TEST</span>(Candy, test_4) {
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Arrange
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  std<span style="color:#f92672">::</span>vector<span style="color:#f92672">&lt;</span><span style="color:#66d9ef">int</span><span style="color:#f92672">&gt;</span> ratings <span style="color:#f92672">=</span> {<span style="color:#ae81ff">1</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">87</span>,<span style="color:#ae81ff">87</span>,<span style="color:#ae81ff">87</span>,<span style="color:#ae81ff">2</span>,<span style="color:#ae81ff">1</span>};
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> returns;
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">int</span> expectedReturns <span style="color:#f92672">=</span> <span style="color:#ae81ff">13</span> ;
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Act
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  returns <span style="color:#f92672">=</span> Solution<span style="color:#f92672">::</span><span style="color:#a6e22e">candy</span>(ratings);
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>  <span style="color:#75715e">// Assert
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>  <span style="color:#a6e22e">EXPECT_TRUE</span>(expectedReturns <span style="color:#f92672">==</span> returns);
</span></span><span style="display:flex;"><span>}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">int</span> <span style="color:#a6e22e">main</span>(<span style="color:#66d9ef">int</span> argc, <span style="color:#66d9ef">char</span> <span style="color:#f92672">**</span>argv) {
</span></span><span style="display:flex;"><span>  testing<span style="color:#f92672">::</span><span style="color:#a6e22e">InitGoogleTest</span>(<span style="color:#f92672">&amp;</span>argc, argv);
</span></span><span style="display:flex;"><span>  <span style="color:#66d9ef">return</span> <span style="color:#a6e22e">RUN_ALL_TESTS</span>();
</span></span><span style="display:flex;"><span>}</span></span></code></pre></div>
<p>I have a simple Makefile:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-makefile" data-lang="makefile"><span style="display:flex;"><span>OBJS <span style="color:#f92672">=</span> candy.o
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">candy</span><span style="color:#f92672">:</span> <span style="color:#66d9ef">$(</span>OBJS<span style="color:#66d9ef">)</span>
</span></span><span style="display:flex;"><span>        g++ -Wall -g -o candy <span style="color:#66d9ef">$(</span>OBJS<span style="color:#66d9ef">)</span> -lgtest -lgtest_main
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">candy.o</span><span style="color:#f92672">:</span> candy.cpp
</span></span><span style="display:flex;"><span>        g++ -Wall -g -c candy.cpp
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">clean</span><span style="color:#f92672">:</span>
</span></span><span style="display:flex;"><span>        rm candy <span style="color:#66d9ef">$(</span>OBJS<span style="color:#66d9ef">)</span>
</span></span></code></pre></div>
<p>And here are my google test results:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#f92672">[==========]</span> Running <span style="color:#ae81ff">4</span> tests from <span style="color:#ae81ff">1</span> test suite.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>----------<span style="color:#f92672">]</span> Global test environment set-up.
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>----------<span style="color:#f92672">]</span> <span style="color:#ae81ff">4</span> tests from Candy
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> RUN      <span style="color:#f92672">]</span> Candy.test_1
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>       OK <span style="color:#f92672">]</span> Candy.test_1 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> RUN      <span style="color:#f92672">]</span> Candy.test_2
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>       OK <span style="color:#f92672">]</span> Candy.test_2 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> RUN      <span style="color:#f92672">]</span> Candy.test_3
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>       OK <span style="color:#f92672">]</span> Candy.test_3 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span> RUN      <span style="color:#f92672">]</span> Candy.test_4
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>       OK <span style="color:#f92672">]</span> Candy.test_4 <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>----------<span style="color:#f92672">]</span> <span style="color:#ae81ff">4</span> tests from Candy <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms total<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>----------<span style="color:#f92672">]</span> Global test environment tear-down
</span></span><span style="display:flex;"><span><span style="color:#f92672">[==========]</span> <span style="color:#ae81ff">4</span> tests from <span style="color:#ae81ff">1</span> test suite ran. <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> ms total<span style="color:#f92672">)</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">[</span>  PASSED  <span style="color:#f92672">]</span> <span style="color:#ae81ff">4</span> tests.</span></span></code></pre></div>
<figure><img src="/ox-hugo/complexity-candy.png"/>
</figure>

<p>Yum!</p>

</div>
<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts"><li><span>Nov 28 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-14/">Leetcode Algorithms 14</a>

</li><li><span>Nov 26 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-11/">Leetcode Algorithms 11</a>

</li><li><span>Nov 26 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-13/">Leetcode Algorithms 13</a>

</li><li><span>Nov 25 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-10/">Leetcode Algorithms 10</a>

</li><li><span>Nov 24 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-7/">Leetcode Algorithms 7</a>

</li><li><span>Nov 24 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-8/">Leetcode Algorithms 8</a>

</li><li><span>Nov 24 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-9/">Leetcode Algorithms 9</a>

</li><li><span>Nov 23 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-2/">Leetcode Algorithms 2</a>

</li><li><span>Nov 23 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-3/">Leetcode Algorithms 3</a>

</li><li><span>Nov 23 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-4/">Leetcode Algorithms 4</a>

</li><li><span>Nov 23 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-5/">Leetcode Algorithms 5</a>

</li><li><span>Nov 23 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-6/">Leetcode Algorithms 6</a>

</li><li><span>Nov 22 2024</span> &raquo;
<a href="/leetcode/leetcode-algorithms-1/">Leetcode Algorithms 1</a>

</li></ul>
</div>
  </main>
  <footer>
    <div class="footer">
  <div class="contact">
    <pr><br><a href="https://www.linkedin.com/in/karl-s-9a705398/">linkedIn</a>
      <br>
      <pr><a href="https://github.com/kes">github.com</a>

  </div>
</div>

  </footer>
  </div>
</body>
</html>

